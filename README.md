# Telegram Summary Bot

–ë–æ—Ç –¥–ª—è Telegram, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Å—É–∂–¥–µ–Ω–∏—è –≤ —á–∞—Ç–∞—Ö (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç–æ–ø–∏–∫–æ–≤) –∏ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–µ—Ç —Å–∞–º–º–∞—Ä–∏ —Å –ø–æ–º–æ—â—å—é Google Gemini AI –∏–ª–∏ OpenAI (–≤—ã–±–æ—Ä —á–µ—Ä–µ–∑ .env). –ë–æ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, –≤—ã–¥–µ–ª—è–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã, —Å–æ–±–∏—Ä–∞–µ—Ç –≤–∞–∂–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –∏ –ø—É–±–ª–∏–∫—É–µ—Ç —Å–∞–º–º–∞—Ä–∏ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º —Ç–µ–≥–æ–º –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –¥–æ–Ω–∞—Ç.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- ü§ñ –£–º–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥–ª–∞–≤–Ω—ã—Ö —Ç–µ–º –æ–±—Å—É–∂–¥–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é Gemini AI –∏–ª–∏ OpenAI (–≤—ã–±–æ—Ä —á–µ—Ä–µ–∑ .env)
- üìä –°–±–æ—Ä –∏ –∞–Ω–∞–ª–∏–∑ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ —Ç–æ–ø–∏–∫–∞–º –∏ –≤ –æ–±—â–∏—Ö —á–∞—Ç–∞—Ö
- ‚è∞ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ —Å–∞–º–º–∞—Ä–∏
- üìç –ì–∏–±–∫–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–∞–º–º–∞—Ä–∏ –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–æ–ø–∏–∫/—á–∞—Ç
- üîí –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å (–≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∞–º)
- üîó –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä —Å—Å—ã–ª–æ–∫ –∏–∑ –æ–±—Å—É–∂–¥–µ–Ω–∏–π
- üìù –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∞–º–º–∞—Ä–∏ —Å —ç–º–æ–¥–∑–∏, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–π, —Å—Å—ã–ª–∫–∞–º–∏ –∏ —Ç–µ–≥–æ–º #dailysummary
- üõ°Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è Telegram (4096 —Å–∏–º–≤–æ–ª–æ–≤)
- üü¢ Docker –∏ docker-compose –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.12+
- Redis –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- Telegram Bot Token
- Google Gemini API Key –∏/–∏–ª–∏ OpenAI API Key

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `example.env`:
```env
# Telegram Bot Token
TELEGRAM_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞

# Google Gemini API Key
GEMINI_API_KEY=–≤–∞—à_–∫–ª—é—á_gemini

# OpenAI API Key (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è OpenAI)
OPENAI_API_KEY=–≤–∞—à_–∫–ª—é—á_openai

# –ü—Ä–æ–≤–∞–π–¥–µ—Ä —Å–∞–º–º–∞—Ä–∏: gemini –∏–ª–∏ openai
SUMMARIZER_PROVIDER=gemini

# –ú–æ–¥–µ–ª—å –¥–ª—è —Å–∞–º–º–∞—Ä–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, models/gemini-1.0-pro –∏–ª–∏ gpt-4-turbo-preview)
SUMMARIZER_MODEL=models/gemini-1.0-pro

# –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–∞–º–º–∞—Ä–∏ –≤ –º–∏–Ω—É—Ç–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 60)
SUMMARY_INTERVAL_MINUTES=60

# –°—Å—ã–ª–∫–∞ –¥–ª—è –¥–æ–Ω–∞—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–∞ ‚Äî –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ–≥)
DAILY_SUMMARY_LINK=https://www.buymeacoffee.com/your-link
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/TrackLine/summary-bot.git
cd summary-bot

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Redis

#### –ß–µ—Ä–µ–∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
```bash
docker run -d -p 6379:6379 redis:7
```

#### –ò–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ:
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Redis —á–µ—Ä–µ–∑ –ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã.

### 3. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
```bash
python bot.py
```

### 4. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ)
```bash
docker-compose up --build
```

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
> ‚ö†Ô∏è –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º —á–∞—Ç–∞

- `/start` ‚Äî –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ –∏ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
- `/summary_now` ‚Äî –°–æ–∑–¥–∞—Ç—å —Å–∞–º–º–∞—Ä–∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
- `/set_summary_topic` ‚Äî –í—ã–±—Ä–∞—Ç—å —Ç–æ–ø–∏–∫ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–∞–º–º–∞—Ä–∏
- `/set_interval` ‚Äî –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∞–º–º–∞—Ä–∏ (–≤ –º–∏–Ω—É—Ç–∞—Ö)
- `/summary_on` ‚Äî –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∞–º–º–∞—Ä–∏
- `/summary_off` ‚Äî –í—ã–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∞–º–º–∞—Ä–∏
- `/select_topics` ‚Äî –í—ã–±—Ä–∞—Ç—å —Ç–æ–ø–∏–∫–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã
- –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏ –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ —Ç–æ–ø–∏–∫–∞–º –≤ —Ñ–æ—Ä—É–º–∞—Ö
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Google Gemini AI –∏–ª–∏ OpenAI –¥–ª—è —É–º–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–µ–º –æ–±—Å—É–∂–¥–µ–Ω–∏—è
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Redis —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π —Ö—Ä–∞–Ω–µ–Ω–∏—è 3 –¥–Ω—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ —Å—Å—ã–ª–∫–∏ –∏–∑ –æ–±—Å—É–∂–¥–µ–Ω–∏–π
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —ç–º–æ–¥–∑–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ç–µ–º
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∞–º–º–∞—Ä–∏
- –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Å–∞–º–º–∞—Ä–∏ —Å —Ç–µ–≥–æ–º #dailysummary (—Å—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–Ω–∞—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞)
- –°–æ–±–ª—é–¥–∞–µ—Ç –ª–∏–º–∏—Ç Telegram –Ω–∞ –¥–ª–∏–Ω—É —Å–æ–æ–±—â–µ–Ω–∏—è (4096 —Å–∏–º–≤–æ–ª–æ–≤)

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º aiogram 3.x
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Gemini AI –∏ OpenAI
- Redis –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Å–∞–º–º–∞—Ä–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
- Docker/Docker Compose –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–µ–ø–ª–æ—è

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ HTML –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –≤–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç
–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤–Ω–µ—Å—Ç–∏ —Å–≤–æ–π –≤–∫–ª–∞–¥ –≤ —Ä–∞–∑–≤–∏—Ç–∏–µ –±–æ—Ç–∞:
1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è —Å–≤–æ–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ —Å–æ–∑–¥–∞–π—Ç–µ pull request

## –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License